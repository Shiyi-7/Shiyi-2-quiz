<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çœŸå®å¿ƒç†æ€§åˆ«æµ‹è¯•</title>
    <style>
        /* å…¨å±€æ ·å¼ï¼šæç®€æ— å†²çª */
        body { font-family: Arial, sans-serif; max-width: 85%; margin: 0 auto; padding: 20px 0; background: #f5f5f5; }
        h1 { text-align: center; color: #333; font-size: 24px; margin-bottom: 15px; }
        .disclaimer { text-align: center; color: #666; font-size: 12px; line-height: 1.5; margin: 0 0 30px; padding: 10px; background: #fafafa; border-radius: 6px; }
        /* æŒ‰é’®åŸºç¡€æ ·å¼ï¼šç‚¹å‡»åŒºåŸŸè¶³å¤Ÿå¤§ */
        .btn { padding: 15px 30px; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; color: white; margin: 10px 0; }
        /* å¼€å§‹ç•Œé¢ */
        .start-wrap { text-align: center; margin-top: 50px; }
        .btn-15 { background: #4299e1; }
        .btn-60 { background: #9f7aea; }
        /* å¼¹çª— */
        .modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.2); z-index: 10; display: none; }
        .modal p { color: #e53e3e; font-weight: 600; margin-bottom: 20px; text-align: center; }
        .btn-ok { background: #48bb78; }
        .btn-cancel { background: #e53e3e; }
        .mask { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.3); z-index: 9; display: none; }
        /* ç­”é¢˜ç•Œé¢ */
        .quiz-wrap { display: none; margin-top: 20px; }
        .progress { text-align: center; color: #666; margin-bottom: 20px; font-size: 16px; }
        .question { background: white; padding: 15px; border-radius: 8px; margin-bottom: 10px; }
        .q-text { color: #333; font-size: 15px; margin-bottom: 10px; }
        .q-btn-group { display: flex; gap: 8px; }
        .q-btn { flex: 1; padding: 12px 0; font-size: 14px; }
        .q-btn-yes { background: #38a169; }
        .q-btn-no { background: #e53e3e; }
        .tip { text-align: center; color: #999; font-size: 12px; margin-top: 8px; }
        .btn-submit { width: 100%; background: #4299e1; margin-top: 25px; }
        .btn-submit:disabled { background: #ccc; cursor: not-allowed; }
        /* ç»“æœç•Œé¢ */
        .result-wrap { display: none; text-align: center; margin-top: 50px; background: white; padding: 25px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .result-title { font-size: 22px; font-weight: bold; margin-bottom: 20px; }
        .personality-name { font-size: 26px; font-weight: bold; color: #9f7aea; margin: 10px 0; }
        .personality-desc { color: #666; font-size: 14px; line-height: 1.6; margin: 15px 0; }
    </style>
</head>
<body>
    <h1>ğŸ¯ çœŸå®å¿ƒç†æ€§åˆ«æµ‹è¯•</h1>
    <!-- æµ‹è¯•å£°æ˜ -->
    <div class="disclaimer">
        ğŸ”” æµ‹è¯•å£°æ˜ï¼šæœ¬æµ‹è¯•ä¸ºè¶£å‘³å¨±ä¹æ€§è´¨ï¼Œæ‰€æœ‰é¢˜ç›®åŠç»“æœä»…åŸºäºæ€§åˆ«ç‰¹è´¨çš„å¸¸è§ç»´åº¦è¿›è¡Œè¶£å‘³åˆ’åˆ†ï¼Œæµ‹è¯•ç»“æœä»…ä¾›å‚è€ƒã€‚
    </div>

    <!-- 1. å¼€å§‹ç•Œé¢ -->
    <div class="start-wrap" id="startWrap">
        <button class="btn btn-15" onclick="showModal()">ç²¾ç®€ç‰ˆï¼ˆ15é¢˜Â·å¿«é€Ÿå®Œæˆï¼‰</button>
        <br>
        <button class="btn btn-60" onclick="startQuiz(60)">ç²¾ç¡®ç‰ˆï¼ˆ60é¢˜Â·ç»“æœæ›´å‡†ï¼‰</button>
    </div>

    <!-- 2. ç¡®è®¤å¼¹çª— -->
    <div class="modal" id="modal">
        <p>æ³¨æ„!15é¢˜ç»“æœå¯èƒ½ä¼šä¸ç²¾å‡†ï¼Œç¡®è®¤è¦è¿›è¡Œç²¾ç®€ç­”é¢˜å—ï¼Ÿ</p>
        <button class="btn btn-ok" onclick="startQuiz(15)">ç¡®å®š</button>
        <button class="btn btn-cancel" onclick="hideModal()">å–æ¶ˆ</button>
    </div>
    <div class="mask" id="mask"></div>

    <!-- 3. ç­”é¢˜ç•Œé¢ -->
    <div class="quiz-wrap" id="quizWrap">
        <div class="progress" id="progress">å½“å‰è¿›åº¦ï¼š0/0</div>
        <div id="questionList"></div>
        <button class="btn btn-submit" id="submitBtn" disabled>æäº¤ç­”æ¡ˆ</button>
    </div>

    <!-- 4. ç»“æœç•Œé¢ -->
    <div class="result-wrap" id="resultWrap">
        <div class="result-title" id="resultTitle"></div>
        <div class="personality-name" id="personalityName"></div>
        <div class="personality-desc" id="personalityDesc"></div>
        <button class="btn btn-15" onclick="restartTest()" style="margin-top:20px">é‡æ–°æµ‹è¯•</button>
    </div>

    <script>
        // 1. åŸºç¡€é…ç½®ï¼ˆå®Œå…¨ä¿ç•™åŸæœ‰ä¸­æ–‡å†…å®¹ï¼‰
        const personalityData = {
            1: { name: "æ€§åˆ«é…·å„¿", desc: "æ€§åˆ«é…·å„¿æ˜¯å¯¹ä¼ ç»Ÿç”· / å¥³äºŒå…ƒæ€§åˆ«æ¡†æ¶çš„çªç ´ä¸é‡æ„ï¼Œå¹¶éå•ä¸€å›ºå®šèº«ä»½ï¼Œè€Œæ˜¯æ¶µç›–å¤šå…ƒæ€§åˆ«è¡¨è¾¾ä¸è®¤åŒçš„é›†åˆã€‚å®ƒå¦å®šæ€§åˆ«éæ­¤å³å½¼çš„åˆ»æ¿åˆ’åˆ†ï¼Œè®¤å¯ä¸ªä½“æ€§åˆ«å¯èƒ½å¤„äºäºŒå…ƒä¹‹é—´ã€è·¨è¶Šä¸¤è€…æˆ–å®Œå…¨è„±ç¦»äºŒå…ƒèŒƒç•´ï¼Œå¼ºè°ƒæ€§åˆ«èº«ä»½çš„æµåŠ¨æ€§ä¸è‡ªä¸»æ€§ã€‚æ ¸å¿ƒæ˜¯æ‹’ç»è¢«å•ä¸€æ€§åˆ«æ ‡ç­¾æŸç¼šï¼Œä¸»å¼ æ¯ä¸ªäººæœ‰æƒè‡ªä¸»å®šä¹‰è‡ªèº«æ€§åˆ«ä½“éªŒï¼Œæ˜¯æ€§åˆ«å¤šå…ƒç†å¿µçš„é‡è¦å®è·µä¸ä½“ç°ã€‚" },
            2: { name: "æ— æ€§åˆ«", desc: "ä¸è®¤åŒä»»ä½•å½¢å¼çš„æ€§åˆ«åˆ†ç±»ï¼Œå†…å¿ƒæ²¡æœ‰æ˜ç¡®çš„æ€§åˆ«å½’å±æ„ŸçŸ¥ï¼Œä¹Ÿä¸è¢«ç”·æ€§åŒ–ã€å¥³æ€§åŒ–çš„ç‰¹è´¨å®šä¹‰ã€‚æ€§åˆ«è¡¨è¾¾é€šå¸¸åå‘ä¸­æ€§ï¼Œå¯¹ç¤¾ä¼šèµ‹äºˆæ€§åˆ«çš„è§’è‰²ã€è§„èŒƒæŒç–ç¦»æ€åº¦ï¼Œæ ¸å¿ƒæ˜¯ â€œæ— æ€§åˆ«å½’å±â€ çš„è‡ªæˆ‘è®¤çŸ¥ï¼Œå¼ºè°ƒæ€§åˆ«ä¸­ç«‹æˆ–æ— æ€§åˆ«çŠ¶æ€ã€‚" },
            3: { name: "æ€§åˆ«æµåŠ¨", desc: "æ€§åˆ«è®¤åŒå¹¶éå›ºå®šä¸å˜ï¼Œä¼šéšæ—¶é—´ã€æƒ…å¢ƒã€æƒ…ç»ªç­‰å› ç´ åœ¨ä¸åŒæ€§åˆ«çŠ¶æ€é—´è‡ªç„¶æ³¢åŠ¨ã€‚å¯èƒ½åœ¨æŸä¸€é˜¶æ®µè®¤åŒä¸ºç”·æ€§ï¼Œå¦ä¸€é˜¶æ®µåå‘å¥³æ€§æˆ–éäºŒå…ƒæ€§åˆ«ï¼Œæ ¸å¿ƒç‰¹å¾æ˜¯æ€§åˆ«èº«ä»½çš„çµæ´»æ€§ä¸åŠ¨æ€å˜åŒ–ï¼Œä¸è¢«å•ä¸€æ€§åˆ«æ ‡ç­¾æŸç¼šã€‚" },
            4: { name: "äººå¦–", desc: "å­˜åœ¨æ··åˆæ€§çš„ç”Ÿç†ç‰¹å¾ã€‚ä¸éäºŒå…ƒæ€§åˆ«ä¸åŒï¼Œå…¶æ ¸å¿ƒæ˜¯ç”Ÿç†å±‚é¢çš„æ€§åˆ«ç‰¹å¾æ··åˆï¼Œæ½œç§»é»˜åŒ–äº§ç”Ÿå¥³æ€§è®¤åŒï¼Œç”šè‡³å¯èƒ½ä¼šé€šè¿‡æ‰‹æœ¯å®Œæˆæ€§åˆ«è½¬æ¢ã€‚" },
            5: { name: "åŒæ€§äºº", desc: "åŒæ—¶è®¤åŒä¸¤ç§ä¸åŒçš„æ€§åˆ«ï¼ˆæœªå¿…æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ç”·ä¸å¥³ï¼‰ï¼Œä¸¤ç§æ€§åˆ«è®¤åŒå¯åŒæ—¶å­˜åœ¨æˆ–äº¤æ›¿æ˜¾ç°ã€‚å…¶æ€§åˆ«è¡¨è¾¾ä¼šæ ¹æ®è®¤åŒçš„æ€§åˆ«çµæ´»è°ƒæ•´ï¼Œæ—¢å¯èƒ½å±•ç°å‡ºæ··åˆçš„æ€§åˆ«ç‰¹è´¨ï¼Œä¹Ÿå¯èƒ½åœ¨ä¸åŒåœºæ™¯ä¸‹ä¾§é‡ä¸åŒæ€§åˆ«å¯¹åº”çš„è¡Œä¸ºæ¨¡å¼ã€‚" },
            6: { name: "Froggender", desc: "ä½ æ„Ÿåˆ°ä¸é’è›™çš„æ€§åˆ«æœ‰æ·±åˆ»çš„è”ç³»ï¼Œè®¤ä¸ºè‡ªå·±çš„æ€§åˆ«åº”è¯¥è¢«â€œé’è›™â€æ‰€å–ä»£ã€‚" },
            7: { name: "Novigender", desc: "è®¤ä¸ºè‡ªå·±çš„æ€§åˆ«è®¤åŒéå¸¸å¤æ‚ï¼Œæ— æ³•ç”¨ç°æœ‰ç±»åˆ«æè¿°ï¼Œå±äºä¸ªäººç‹¬ç‰¹å®šä¹‰çš„æ–°å‹æ€§åˆ«èº«ä»½ï¼Œè¶…å‡ºäººç±»èŒƒç•´ã€‚" },
            8: { name: "æ²ƒå°”ç›è´­ç‰©è¢‹", desc: "ä½ å…·å¤‡å‡ºè‰²çš„æ²Ÿé€šèƒ½åŠ›å’Œäº²å’ŒåŠ›ï¼Œåœ¨ç¤¾äº¤åœºåˆä¸­æ¸¸åˆƒæœ‰ä½™ï¼Œè¿™æ˜¯å› ä¸ºä½ æ¶µç›–äº†97ç§ä¸åŒæ€§åˆ«çš„ç‰¹å¾ï¼Œæ˜¯æå…¶å…¨é¢çš„å­˜åœ¨ã€‚ä¸è¦åœ¨æ„å…¶ä»–äººçš„ç›®å…‰ï¼Œåšå¥½è‡ªå·±æ‰æ˜¯æœ€é‡è¦çš„ã€‚" },
            9: { name: "è¶…é›„", desc: "ä½ çš„èº«æé«˜å¤§ï¼Œæ€§å‘è‚²ä¸ç”Ÿè‚²èƒ½åŠ›åŸºæœ¬æ­£å¸¸ï¼Œæ— æ˜æ˜¾å¤–è§‚å¼‚å¸¸ã€‚å¯èƒ½ä¼´éšè½»åº¦æ™ºåŠ›ä½ä¸‹ã€æ³¨æ„åŠ›ä¸é›†ä¸­æˆ–æ€§æ ¼æ˜“æ¿€æƒ¹ï¼Œç½‘ä¼  â€œæš´åŠ›å€¾å‘â€ æ— ç§‘å­¦ä¾æ®ï¼Œå¯èƒ½æœ‰ç”·åŒæ€§æ‹å€¾å‘ã€‚" },
            10: { name: "è¶…é›Œ", desc: "ä½ çš„èº«æç•¥é«˜ï¼Œæ€§å‘è‚²æ­£å¸¸ä¸”æœ‰ç”Ÿè‚²èƒ½åŠ›ã€‚å¯èƒ½ä¼´è½»åº¦æ™ºåŠ›ä½ä¸‹ã€è¨€è¯­æˆ–è¿åŠ¨å‘è‚²è¿Ÿç¼“ï¼ŒX æŸ“è‰²ä½“è¶Šå¤šç—‡çŠ¶è¶Šæ˜æ˜¾ï¼Œå¯èƒ½å­˜åœ¨å™¨å®˜ç•¸å½¢æˆ–å¿ƒç†é—®é¢˜ï¼Œå¯èƒ½æœ‰å¥³åŒå€¾å‘ã€‚" }
        };
        let totalQuestions = 0;
        let userAnswers = [];
        let keyNormal = []; // å‰N-1æ˜¯+æœ€åå¦ â†’ æ­£å¸¸
        let keyAbnormal = []; // å‰N-1å¦+æœ€åæ˜¯ â†’ ä¸æ­£å¸¸

        // 2. 80é“å®Œæ•´é¢˜åº“ï¼ˆæ— é‡å¤ï¼Œä¿ç•™åŸæœ‰é¢˜ç›®é£æ ¼ï¼‰
        const fullQuestionBank = [
            "ä½ æ›´å€¾å‘äºé€‰æ‹©è“è‰²ç³»çš„æ—¥å¸¸ç”¨å“å—ï¼Ÿ",
            "é¢å¯¹å†²çªæ—¶ï¼Œä½ æ›´ä¹ æƒ¯ç›´æ¥åé©³å—ï¼Ÿ",
            "å‘¨æœ«ä¼‘é—²æ—¶ï¼Œä½ æ›´çˆ±å‚ä¸çƒç±»è¿åŠ¨å—ï¼Ÿ",
            "é€‰è´­è¡£ç‰©æ—¶ï¼Œä½ ä¼˜å…ˆå…³æ³¨èˆ’é€‚å®ç”¨å—ï¼Ÿ",
            "å’Œæœ‹å‹èšä¼šï¼Œä½ æ›´æ“…é•¿ä¸»å¯¼è¯é¢˜å—ï¼Ÿ",
            "é‡åˆ°éš¾é¢˜ï¼Œä½ æ›´å€¾å‘ç‹¬ç«‹è§£å†³å—ï¼Ÿ",
            "ä½ å¯¹æœºæ¢°åŸç†çš„å…´è¶£é«˜äºç¾å¦†æŠ€å·§å—ï¼Ÿ",
            "ä½ æ›´æ„¿æ„æ‹…ä»»å›¢é˜Ÿå†³ç­–è€…å—ï¼Ÿ",
            "ä½ å¯¹ç§‘å¹»ç”µå½±çš„å–œçˆ±è¶…è¿‡è¨€æƒ…å‰§å—ï¼Ÿ",
            "ä½ æ›´ä¹ æƒ¯å¿«é€Ÿåšå†³å®šå—ï¼Ÿ",
            "ä½ æ›´åœ¨æ„ä»–äººå¯¹è‡ªå·±èƒ½åŠ›çš„è®¤å¯è€Œéå¤–è¡¨è¯„ä»·å—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿é€»è¾‘æ¨ç†é¢˜è€Œéæƒ…æ„Ÿåˆ†æé¢˜å—ï¼Ÿ",
            "ä¼‘é—²æ—¶ï¼Œä½ æ›´çˆ±æˆ·å¤–æ¢é™©è€Œéå±…å®¶é˜…è¯»å—ï¼Ÿ",
            "ä½ å¯¹æ•°å­—æ•æ„Ÿç¨‹åº¦é«˜äºè‰²å½©æ­é…å—ï¼Ÿ",
            "ä¸äººäº‰æ‰§æ—¶ï¼Œä½ æ›´æ˜“ç†æ€§è¾©è®ºè€Œéæƒ…ç»ªæ³¢åŠ¨å—ï¼Ÿ",
            "ä½ æ›´å€¾å‘äºç©¿å®½æ¾æœé¥°å—ï¼Ÿ",
            "ä½ å¯¹æ±½è½¦å‚æ•°çš„å…´è¶£è¶…è¿‡é¥°å“è®¾è®¡å—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿åˆ¶å®šè®¡åˆ’è€Œéçµæ´»åº”å˜å—ï¼Ÿ",
            "ä½ æ›´äº«å—ç«äº‰å¸¦æ¥çš„æˆå°±æ„Ÿè€Œéåˆä½œçš„èæ´½æ„Ÿå—ï¼Ÿ",
            "ä½ å¯¹è¿åŠ¨å“ç‰Œçš„å…³æ³¨åº¦é«˜äºæ—¶å°šå¥¢ä¾ˆå“ç‰Œå—ï¼Ÿ",
            "ä½ æ›´ä¹ æƒ¯ç”¨ç®€æ´è¯­è¨€è¡¨è¾¾è€Œéè¯¦ç»†æè¿°å—ï¼Ÿ",
            "ä½ å¯¹ç¼–ç¨‹ã€ç»´ä¿®ç­‰æŠ€èƒ½çš„å…´è¶£é«˜äºçƒ¹é¥ªã€èŠ±è‰ºå—ï¼Ÿ",
            "ä½ é¢å¯¹å‹åŠ›æ—¶ï¼Œæ›´æ˜“å†·é™åº”å¯¹è€Œééœ€è¦æƒ…æ„Ÿæ…°è—‰å—ï¼Ÿ",
            "ä½ æ›´å€¾å‘äºçŸ­å‘é€ å‹å—ï¼Ÿ",
            "ä½ å¯¹å†å²æˆ˜äº‰é¢˜æçš„å…´è¶£è¶…è¿‡å®«å»·è¨€æƒ…å—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿æ•°å­¦è®¡ç®—è€Œéè¯­æ–‡å†™ä½œå—ï¼Ÿ",
            "ä½ è´­ç‰©æ—¶ï¼Œæ›´æ³¨é‡åŠŸèƒ½å®ç”¨æ€§è€Œéå¤–è§‚é¢œå€¼å—ï¼Ÿ",
            "ä½ å¯¹çƒç±»èµ›äº‹çš„å…³æ³¨åº¦é«˜äºé€‰ç§€èŠ‚ç›®å—ï¼Ÿ",
            "ä½ æ›´ä¹ æƒ¯ç‹¬æ¥ç‹¬å¾€è€Œéç»“ä¼´è€Œè¡Œå—ï¼Ÿ",
            "ä½ æ›´åœ¨æ„è§„åˆ™å…¬å¹³æ€§è€Œéäººæƒ…ä¸–æ•…å—ï¼Ÿ",
            "ä½ å¯¹å·¥å…·ç±»APPçš„ä½¿ç”¨ç‡é«˜äºç¾å¦†ã€ç©¿æ­ç±»å—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿åˆ†æé—®é¢˜æ ¹æºè€Œéå®‰æŠšä»–äººæƒ…ç»ªå—ï¼Ÿ",
            "ä½ å¯¹å»ºç­‘ç»“æ„çš„å…´è¶£è¶…è¿‡å®¤å†…è£…é¥°å—ï¼Ÿ",
            "ä½ åšé€‰æ‹©æ—¶ï¼Œæ›´ä¾èµ–ç†æ€§åˆ¤æ–­è€Œéç›´è§‰æ„Ÿå—å—ï¼Ÿ",
            "ä½ æ›´å€¾å‘äºä¸­æ€§è‰²è°ƒçš„ç‰©å“è€Œéé²œè‰³è‰²å½©å—ï¼Ÿ",
            "ä½ å¯¹å†›äº‹è£…å¤‡çš„äº†è§£ç¨‹åº¦é«˜äºæŠ¤è‚¤å“å—ï¼Ÿ",
            "ä½ æ›´ä¹ æƒ¯æå‰è§„åˆ’è¡Œç¨‹è€Œéä¸´æ—¶å†³å®šå—ï¼Ÿ",
            "ä½ æ›´äº«å—è§£å†³éš¾é¢˜çš„è¿‡ç¨‹è€Œéåˆ†äº«æ„Ÿå—å—ï¼Ÿ",
            "ä½ å¯¹è¿åŠ¨é‹çš„å–œçˆ±è¶…è¿‡é«˜è·Ÿé‹å—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿å£å¤´è¡¨è¾¾è€Œéä¹¦é¢è®°å½•å—ï¼Ÿ",
            "ä½ å¯¹ç‰©ç†ã€åŒ–å­¦çŸ¥è¯†çš„å…´è¶£é«˜äºæ–‡å­¦ã€è‰ºæœ¯å—ï¼Ÿ",
            "ä½ ä¸äººäº¤å¾€æ—¶ï¼Œæ›´æ³¨é‡å¦è¯šç›´ç‡è€Œéå§”å©‰å®¢æ°”å—ï¼Ÿ",
            "ä½ æ›´å€¾å‘äºç®€æ´å¹²ç»ƒçš„ç©¿æ­é£æ ¼è€ŒéæŸ”ç¾ä¼˜é›…å—ï¼Ÿ",
            "ä½ å¯¹æ¸¸æˆçš„å–œçˆ±è¶…è¿‡è¿½å‰§å—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿åŠ¨æ‰‹æ“ä½œè€Œéè„‘åŠ›æ€è€ƒå—ï¼Ÿ",
            "ä½ æ›´åœ¨æ„ä¸ªäººæˆå°±è€Œéäººé™…å…³ç³»å’Œè°å—ï¼Ÿ",
            "ä½ å¯¹æˆ·å¤–è£…å¤‡çš„å…³æ³¨åº¦é«˜äºå®¶å±…é¥°å“å—ï¼Ÿ",
            "ä½ æ›´ä¹ æƒ¯å¿«é€Ÿè¡ŒåŠ¨è€Œéæ·±æ€ç†Ÿè™‘å—ï¼Ÿ",
            "ä½ å¯¹æ—¶æ”¿æ–°é—»çš„å…´è¶£è¶…è¿‡å¨±ä¹å…«å¦å—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿æ•´ç†å½’çº³è€Œéåˆ›æ„å‘æ•£å—ï¼Ÿ",
            "ä½ è´­ç‰©æ—¶ï¼Œæ›´å€¾å‘äºæ€§ä»·æ¯”è€Œéå“ç‰Œæº¢ä»·å—ï¼Ÿ",
            "ä½ å¯¹æ ¼æ–—ã€ç«æŠ€ç±»è¿åŠ¨çš„å…´è¶£è¶…è¿‡èˆè¹ˆã€ç‘œä¼½å—ï¼Ÿ",
            "ä½ ä¸äººåˆä½œæ—¶ï¼Œæ›´æ˜“åšæŒå·±è§è€Œéå¦¥åè®©æ­¥å—ï¼Ÿ",
            "ä½ æ›´å€¾å‘äºç®€çº¦é£æ ¼çš„è£…ä¿®è€Œéç²¾è‡´åä¸½å—ï¼Ÿ",
            "ä½ å¯¹ç”µå­äº§å“çš„æ›´æ–°è¿­ä»£æ¯”ç¾å¦†æ–°å“æ›´å…³æ³¨å—ï¼Ÿ",
            "ä½ æ›´ä¹ æƒ¯ç”¨é€»è¾‘è¯´æœä»–äººè€Œéç”¨æƒ…æ„Ÿæ‰“åŠ¨ä»–äººå—ï¼Ÿ",
            "ä½ æ›´äº«å—ç‹¬å¤„æ—¶å…‰è€Œéç¤¾äº¤èšä¼šå—ï¼Ÿ",
            "ä½ å¯¹å·¥ç¨‹ã€æŠ€æœ¯ç±»èŒä¸šçš„å…´è¶£è¶…è¿‡æ•™è‚²ã€åŒ»æŠ¤ç±»å—ï¼Ÿ",
            "ä½ æ›´åœ¨æ„ç¤¼ç‰©çš„å®ç”¨æ€§è€Œéå¿ƒæ„è¡¨è¾¾å—ï¼Ÿ",
            "ä½ ä¼šä¸»åŠ¨å…³æ³¨æ—¶å°šæ½®æµè¶‹åŠ¿å—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿çƒ¹é¥ªçƒ˜ç„™è€Œéç»´ä¿®ç»„è£…å—ï¼Ÿ",
            "ä½ å¯¹æ˜Ÿåº§å¡”ç½—ç­‰ç„å­¦å†…å®¹æ„Ÿå…´è¶£å—ï¼Ÿ",
            "ä½ è¡¨è¾¾æƒ…ç»ªæ—¶æ›´ç›´æ¥å¤–æ”¾è€Œéå«è“„å†…æ•›å—ï¼Ÿ",
            "ä½ æ›´çˆ±é€›ç”µå­äº§å“åº—è€Œéç¾å¦†æŠ¤è‚¤å“åº—å—ï¼Ÿ",
            "ä½ å¯¹è‚²å„¿æ•™è‚²ç›¸å…³çŸ¥è¯†çš„å…³æ³¨åº¦è¾ƒé«˜å—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿è®°ä½ä»–äººå–œå¥½è€Œéå·¥ä½œèƒ½åŠ›å—ï¼Ÿ",
            "ä½ å¯¹è¨€æƒ…å°è¯´çš„å–œçˆ±è¶…è¿‡æ‚¬ç–‘æ¨ç†å°è¯´å—ï¼Ÿ",
            "ä½ æ›´ä¹ æƒ¯ç”¨è‚¢ä½“æ¥è§¦è€Œéè¯­è¨€è¡¨è¾¾äº²å¯†å—ï¼Ÿ",
            "ä½ æ›´åœ¨æ„ç”Ÿæ´»çš„ä»ªå¼æ„Ÿè€Œéå®ç”¨æ€§å—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿è£…é¥°æˆ¿é—´è€Œéä¿®ç†å®¶ç”µå—ï¼Ÿ",
            "ä½ å¯¹è‰²å½©æ­é…çš„æ•æ„Ÿåº¦é«˜äºæ•°å­—è®¡ç®—å—ï¼Ÿ",
            "ä½ é‡åˆ°æŒ«æŠ˜æ—¶æ›´å€¾å‘å€¾è¯‰è€Œéè‡ªæˆ‘æ¶ˆåŒ–å—ï¼Ÿ",
            "ä½ å¯¹æŠ¤è‚¤å“åŒ–å¦†å“çš„äº†è§£é«˜äºçƒç±»è¿åŠ¨å—ï¼Ÿ",
            "ä½ æ›´æ„¿æ„å‚åŠ å¥½å‹èšä¼šè€Œéå®¶åº­èšé¤å—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿å®‰æ…°ä»–äººè€Œéè§£å†³å®é™…é—®é¢˜å—ï¼Ÿ",
            "ä½ å¯¹èˆè¹ˆéŸ³ä¹çš„å…´è¶£é«˜äºæœºæ¢°å·¥ç¨‹å—ï¼Ÿ",
            "ä½ è´­ç‰©æ—¶ä¼šå› åŒ…è£…ç²¾ç¾è€Œå†²åŠ¨æ¶ˆè´¹å—ï¼Ÿ",
            "ä½ æ›´å€¾å‘äºæ¸©æŸ”æ²Ÿé€šè€Œéç›´æ¥è¡¨è¾¾è§‚ç‚¹å—ï¼Ÿ",
            "ä½ å¯¹æ—¶å°šæ‚å¿—çš„å…³æ³¨åº¦é«˜äºç§‘æŠ€æ‚å¿—å—ï¼Ÿ",
            "ä½ æ›´åœ¨æ„ä»–äººæƒ…ç»ªå˜åŒ–è€Œéè‡ªèº«ç›®æ ‡å—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿æ‰‹å·¥åˆ¶ä½œè€Œéç¼–ç¨‹è®¾è®¡å—ï¼Ÿ",
            "ä½ å¯¹å®«å»·å‰§çš„å–œçˆ±è¶…è¿‡æˆ˜äº‰ç‰‡å—ï¼Ÿ",
            "ä½ ä¼šä¸»åŠ¨ä¸ºä»–äººå‡†å¤‡æƒŠå–œç¤¼ç‰©å—ï¼Ÿ",
            "ä½ æ›´ä¹ æƒ¯ç©¿å¹³åº•é‹è€Œéé«˜è·Ÿé‹/çš®é‹å—ï¼Ÿ",
            "ä½ å¯¹èŠ±è‰ºå›­è‰ºçš„å…´è¶£é«˜äºæˆ·å¤–è¿åŠ¨å—ï¼Ÿ",
            "ä½ è¡¨è¾¾è§‚ç‚¹æ—¶ä¼šä¼˜å…ˆè€ƒè™‘ä»–äººæ„Ÿå—å—ï¼Ÿ",
            "ä½ å¯¹æ˜æ˜Ÿå…«å¦çš„å…³æ³¨åº¦é«˜äºæ—¶æ”¿æ–°é—»å—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿åè°ƒäººé™…å…³ç³»è€Œéç‹¬ç«‹å®Œæˆä»»åŠ¡å—ï¼Ÿ",
            "ä½ æ›´åœ¨æ„å¤–è¡¨å½¢è±¡è€Œéèƒ½åŠ›æå‡å—ï¼Ÿ",
            "ä½ å¯¹çƒ¹é¥ªæŠ€å·§çš„å…´è¶£é«˜äºç”µå­ç»´ä¿®å—ï¼Ÿ",
            "ä½ æ›´å€¾å‘äºæ„Ÿæ€§å†³ç­–è€Œéç†æ€§å†³ç­–å—ï¼Ÿ",
            "ä½ å¯¹ç‘œä¼½æ™®æ‹‰æçš„å…´è¶£è¶…è¿‡ç¯®çƒè¶³çƒå—ï¼Ÿ",
            "ä½ æ›´æ“…é•¿ç”¨æ–‡å­—è¡¨è¾¾æƒ…æ„Ÿè€Œéå£å¤´è¡¨è¾¾å—ï¼Ÿ",
            "ä½ å¯¹ä¼ ç»ŸèŠ‚æ—¥çš„ä»ªå¼æ„Ÿé‡è§†å—ï¼Ÿ",
            "ä½ æ›´çˆ±å®‰é™ç¯å¢ƒè€Œéçƒ­é—¹æ°›å›´å—ï¼Ÿ"
        ];

        // æ€§èƒ½ä¼˜åŒ–ï¼šå…¨å±€DOMç¼“å­˜ï¼ˆå‡å°‘é‡å¤DOMæŸ¥è¯¢ï¼‰
        const DOM = {
            startWrap: document.getElementById("startWrap"),
            modal: document.getElementById("modal"),
            mask: document.getElementById("mask"),
            quizWrap: document.getElementById("quizWrap"),
            resultWrap: document.getElementById("resultWrap"),
            questionList: document.getElementById("questionList"),
            progress: document.getElementById("progress"),
            submitBtn: document.getElementById("submitBtn"),
            resultTitle: document.getElementById("resultTitle"),
            personalityName: document.getElementById("personalityName"),
            personalityDesc: document.getElementById("personalityDesc")
        };

        // 3. éšæœºæŠ½å–ä¸é‡å¤é¢˜ç›®ï¼ˆæ ¸å¿ƒä¼˜åŒ–ï¼šä¿è¯ç­”é¢˜æ— é‡å¤ï¼‰
        function getRandomQuestions(count) {
            // æ·±æ‹·è´é¢˜åº“é¿å…ä¿®æ”¹åŸæ•°ç»„
            const shuffledBank = [...fullQuestionBank];
            //  Fisher-Yates æ´—ç‰Œç®—æ³•ï¼ˆé«˜æ•ˆæ‰“ä¹±æ•°ç»„ï¼‰
            for (let i = shuffledBank.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledBank[i], shuffledBank[j]] = [shuffledBank[j], shuffledBank[i]];
            }
            // æˆªå–å‰counté“ä¸é‡å¤é¢˜ç›®
            return shuffledBank.slice(0, count);
        }

        // 4. å¼¹çª—æ§åˆ¶
        function showModal() {
            DOM.modal.style.display = "block";
            DOM.mask.style.display = "block";
        }
        function hideModal() {
            DOM.modal.style.display = "none";
            DOM.mask.style.display = "none";
        }

        // 5. å¼€å§‹ç­”é¢˜ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼Œä¿ç•™åŒå¯†é’¥ï¼‰
        function startQuiz(count) {
            totalQuestions = count;
            // ç”ŸæˆåŒå¯†é’¥
            keyNormal = Array(count).fill("æ˜¯");
            keyNormal[count - 1] = "å¦"; // å‰N-1é¢˜é€‰"æ˜¯"ï¼Œæœ€å1é¢˜é€‰"å¦"
            keyAbnormal = Array(count).fill("å¦");
            keyAbnormal[count - 1] = "æ˜¯"; // å‰N-1é¢˜é€‰"å¦"ï¼Œæœ€å1é¢˜é€‰"æ˜¯"
            userAnswers = Array(count).fill(null); // åˆå§‹åŒ–ç­”æ¡ˆæ•°ç»„

            // è·å–ä¸é‡å¤é¢˜ç›®
            const questions = getRandomQuestions(count);
            DOM.questionList.innerHTML = ""; // æ¸…ç©ºé¢˜ç›®åˆ—è¡¨

            // æ‰¹é‡æ¸²æŸ“é¢˜ç›®ï¼ˆå‡å°‘DOMé‡ç»˜ï¼‰
            let questionsHTML = "";
            questions.forEach((q, index) => {
                questionsHTML += `
                    <div class="question">
                        <div class="q-text">${index + 1}. ${q}</div>
                        <div class="q-btn-group">
                            <button class="btn q-btn q-btn-yes" onclick="selectAnswer(${index}, 'æ˜¯')">æ˜¯</button>
                            <button class="btn q-btn q-btn-no" onclick="selectAnswer(${index}, 'å¦')">å¦</button>
                        </div>
                        <div class="tip" id="tip-${index}">è¯·é€‰æ‹©ã€Œæ˜¯ã€æˆ–ã€Œå¦ã€</div>
                    </div>
                `;
            });
            DOM.questionList.innerHTML = questionsHTML;

            // åˆ‡æ¢ç•Œé¢
            DOM.startWrap.style.display = "none";
            DOM.modal.style.display = "none";
            DOM.mask.style.display = "none";
            DOM.quizWrap.style.display = "block";
            DOM.resultWrap.style.display = "none";
            DOM.progress.textContent = `å½“å‰è¿›åº¦ï¼š0/${count}`;
            DOM.submitBtn.disabled = true;
        }

        // 6. é€‰æ‹©ç­”æ¡ˆï¼ˆç‚¹å‡»å¿…ç”Ÿæ•ˆï¼Œä¼˜åŒ–æŒ‰é’®çŠ¶æ€ï¼‰
        function selectAnswer(index, answer) {
            userAnswers[index] = answer;
            const tipEl = document.getElementById(`tip-${index}`);
            const yesBtn = document.querySelectorAll(".q-btn-yes")[index];
            const noBtn = document.querySelectorAll(".q-btn-no")[index];

            // æŒ‰é’®çŠ¶æ€åˆ‡æ¢ï¼ˆä¼˜åŒ–è§†è§‰åé¦ˆï¼‰
            yesBtn.style.background = answer === "æ˜¯" ? "#2f855a" : "#38a169";
            noBtn.style.background = answer === "å¦" ? "#c53030" : "#e53e3e";
            // ç­”é¢˜æç¤ºï¼ˆåŒºåˆ†é€‰æ‹©çŠ¶æ€ï¼‰
            tipEl.textContent = `${answer === "æ˜¯" ? "âœ…" : "âŒ"} å·²é€‰æ‹©ï¼š${answer}`;
            tipEl.style.color = answer === "æ˜¯" ? "#38a169" : "#e53e3e";

            // æ›´æ–°è¿›åº¦ï¼ˆä¼˜åŒ–æ•°ç»„éå†æ€§èƒ½ï¼‰
            const answeredCount = userAnswers.filter(ans => ans !== null).length;
            DOM.progress.textContent = `å½“å‰è¿›åº¦ï¼š${answeredCount}/${totalQuestions}`;
            // æ‰€æœ‰é¢˜ç›®ç­”å®Œæ‰å¯ç”¨æäº¤æŒ‰é’®
            DOM.submitBtn.disabled = answeredCount < totalQuestions;
        }

        // 7. æäº¤ç­”æ¡ˆï¼ˆä¿ç•™åŒå¯†é’¥åˆ¤å®šé€»è¾‘ï¼‰
        DOM.submitBtn.onclick = function() {
            const isNormal = JSON.stringify(userAnswers) === JSON.stringify(keyNormal);
            const isAbnormal = JSON.stringify(userAnswers) === JSON.stringify(keyAbnormal);

            if (isNormal) {
                DOM.resultTitle.textContent = "ğŸ‰ ç”·æ€§";
                DOM.resultTitle.style.color = "#48bb78";
                DOM.personalityName.style.display = "none";
                DOM.personalityDesc.style.display = "none";
            } else if (isAbnormal) {
                DOM.resultTitle.textContent = "ğŸ‰ å¥³æ€§";
                DOM.resultTitle.style.color = "#e53e3e";
                DOM.personalityName.style.display = "none";
                DOM.personalityDesc.style.display = "none";
            } else {
                // éšæœºåŒ¹é…å¤šå…ƒæ€§åˆ«ç»“æœ
                const randomNum = Math.floor(Math.random() * 10) + 1;
                DOM.resultTitle.textContent = "ğŸ˜ˆ æµ‹è¯•ç»“æœ";
                DOM.resultTitle.style.color = "#333";
                DOM.personalityName.style.display = "block";
                DOM.personalityDesc.style.display = "block";
                DOM.personalityName.textContent = personalityData[randomNum].name;
                DOM.personalityDesc.textContent = personalityData[randomNum].desc;
            }

            // åˆ‡æ¢åˆ°ç»“æœç•Œé¢
            DOM.quizWrap.style.display = "none";
            DOM.resultWrap.style.display = "block";
        };

        // 8. é‡æ–°æµ‹è¯•ï¼ˆé‡ç½®çŠ¶æ€ï¼‰
        function restartTest() {
            // é‡ç½®å…¨å±€çŠ¶æ€
            totalQuestions = 0;
            userAnswers = [];
            keyNormal = [];
            keyAbnormal = [];
            // åˆ‡æ¢åˆ°å¼€å§‹ç•Œé¢
            DOM.resultWrap.style.display = "none";
            DOM.startWrap.style.display = "block";
        }
    </script>
</body>
</html>
